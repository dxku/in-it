<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>In-It</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/fonts/font-awesome.min.css">
    <link rel="stylesheet" href="assets/fonts/simple-line-icons.min.css">
    <link rel="stylesheet" href="assets/css/styles.css">
</head>

<body style="background: var(--bs-gray-900);">
    <div class="container">
        <div class="row" style="padding: 10px;">
            <div class="col text-center align-self-center">
                <span id="clock" style="color: rgb(255,255,255);font-size: 50px;font-weight: bold;"></span>
            </div>
            <div class="col text-center align-self-center col-auto">
                <button class="btn btn-primary" type="button" style="border-color: rgb(255, 255, 255);border-top-color: rgb(255,;border-right-color: 255,;border-bottom-color: 255);border-left-color: 255,;background: rgb(255,255,255);height: 49.2422px;width: 120px;border-radius: 50px;">
                        <span style="color: var(--bs-gray-900);font-size: 24px;font-weight: bold;">IN-IT</span>
                    </button>
            </div>
        </div>
        <div class="row" style="height: 100px;">
            <div class="col align-self-center">
                <h1 class="text-start" style="color: var(--bs-light);padding-right: 20px;padding-left: 20px;">¡Bienvenido!</h1>
            </div>
        </div>
        <div class="row" style="padding: 10px;">
            <div class="col text-center align-self-center">
                <button id="facebook-button" onclick="openInNewTab('https://facebook.com')" class="btn btn-primary" type="button" style="background: #4267b2;border-style: none;height: 60px;width: 100%;border-radius: 50px;">
                        <span>
                            <i class="icon-social-facebook"></i>
                            &nbsp; Facebook
                        </span>
                    </button>
            </div>
            <div class="col text-center align-self-center col-auto">
                <button id="facebook-setting" onClick="app('Facebook')" class="btn btn-primary" type="button" style="background: var(--bs-light);border-style: none;height: 60px;width: 120px;">
                    <span style="color: rgb(0,0,0);font-size: 12px;">
                        <i class="fa fa-unlock"></i>
                        &nbsp;Desbloqueado
                    </span>
                </button>
            </div>
        </div>
        <div class="row" style="padding: 10px;">
            <div class="col text-center align-self-center">
                <button id="twitter-button" onclick="openInNewTab('https://twitter.com')" class="btn btn-primary" type="button" style="background: #00acee;border-style: none;height: 60px;width: 100%;border-radius: 50px;">
                        <span>
                            <i class="icon-social-twitter"></i>
                            &nbsp; Twitter
                        </span>
                    </button>
            </div>
            <div class="col text-center align-self-center col-auto">
                <button id="twitter-setting" onClick="app('Twitter')" class="btn btn-primary" type="button" style="background: var(--bs-light);border-style: none;height: 60px;width: 120px;">
                        <span style="color: rgb(0,0,0);font-size: 12px;">
                            <i class="fa fa-unlock"></i>
                            &nbsp;Desbloqueado
                        </span>
                    </button>
            </div>
        </div>
        <div class="row" style="padding: 10px;">
            <div class="col text-center align-self-center">
                <button id="tiktok-button" onclick="openInNewTab('https://tiktok.com')" class="btn btn-primary" type="button" style="background: #ff0050;border-style: none;height: 60px;width: 100%;border-radius: 50px;">
                        <span>
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="1em"
                                height="1em"
                                viewBox="0 0 24 24"
                                stroke-width="2"
                                stroke="currentColor"
                                fill="none"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                class="icon icon-tabler icon-tabler-brand-tiktok"
                            >
                                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                <path d="M9 12a4 4 0 1 0 4 4v-12a5 5 0 0 0 5 5"></path>
                            </svg>
                            &nbsp;TikTok
                        </span>
                    </button>
            </div>
            <div class="col text-center align-self-center col-auto">
                <button id="tiktok-setting" onClick="app('TikTok')" class="btn btn-primary" type="button" style="background: var(--bs-light);border-style: none;height: 60px;width: 120px;">
                    <span style="color: rgb(0,0,0);font-size: 12px;">
                        <i class="fa fa-unlock"></i>
                        &nbsp;Desbloqueado
                    </span>
                </button>
            </div>
        </div>
        <div class="row" style="padding: 10px;">

            <div class="col text-center align-self-center">
                <button id="instagram-button" onclick="openInNewTab('https://instagram.com')" class="btn btn-primary" type="button" style="background: #DE1B85;border-style: none;height: 60px;width: 100%;border-radius: 50px;">
                        <span>
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="1em"
                                height="1em"
                                viewBox="0 0 24 24"
                                stroke-width="2"
                                stroke="currentColor"
                                fill="none"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                class="icon icon-tabler icon-tabler-brand-instagram"
                            >
                                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                <rect
                                    x="4"
                                    y="4"
                                    width="16"
                                    height="16"
                                    rx="4"
                                ></rect>
                                <circle cx="12" cy="12" r="3"></circle>
                                <line
                                    x1="16.5"
                                    y1="7.5"
                                    x2="16.5"
                                    y2="7.501"
                                ></line>
                            </svg>
                            &nbsp;Instagram
                        </span>
                    </button>
            </div>
            <div class="col text-center align-self-center col-auto">
                <button id="instagram-setting" onClick="app('Instagram')" class="btn btn-primary" type="button" style="background: var(--bs-light);border-style: none;height: 60px;width: 120px;">
                        <span style="color: rgb(0,0,0);font-size: 12px;">
                            <i class="fa fa-unlock"></i>
                            &nbsp;Desbloqueado
                        </span>
                    </button>
            </div>
        </div>
    </div>
    <div class="modal fade" id="modal" tabindex="-1" aria-labelledby="tos-modal-title" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modal-title"></h5>
                </div>
                <div class="modal-body">
                    <input id="app-value" value="" hidden>
                    <p>Define la hora de bloqueo para la aplicación.</p>
                    Hora:
                    <select id="horas" class="form-select">
                            <option value="00">00</option>
                            <option value="01">01</option>
                            <option value="02">02</option>
                            <option value="03">03</option>
                            <option value="04">04</option>
                            <option value="05">05</option>
                            <option value="06">06</option>
                            <option value="07">07</option>
                            <option value="08">08</option>
                            <option value="09">09</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="12">12</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                            <option value="19">19</option>
                            <option value="20">20</option>
                            <option value="21">21</option>
                            <option value="22">22</option>
                            <option value="23">23</option>
                        </select> Minuto:
                    <select id="minutos" class="form-select">
                            <option value="00">00</option>
                            <option value="01">01</option>
                            <option value="02">02</option>
                            <option value="03">03</option>
                            <option value="04">04</option>
                            <option value="05">05</option>
                            <option value="06">06</option>
                            <option value="07">07</option>
                            <option value="08">08</option>
                            <option value="09">09</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="12">12</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                            <option value="19">19</option>
                            <option value="20">20</option>
                            <option value="21">21</option>
                            <option value="22">22</option>
                            <option value="23">23</option>
                            <option value="24">24</option>
                            <option value="25">25</option>
                            <option value="26">26</option>
                            <option value="27">27</option>
                            <option value="28">28</option>
                            <option value="29">29</option>
                            <option value="30">30</option>
                            <option value="31">31</option>
                            <option value="32">32</option>
                            <option value="33">33</option>
                            <option value="34">34</option>
                            <option value="35">35</option>
                            <option value="36">36</option>
                            <option value="37">37</option>
                            <option value="38">38</option>
                            <option value="39">39</option>
                            <option value="40">40</option>
                            <option value="41">41</option>
                            <option value="42">42</option>
                            <option value="43">43</option>
                            <option value="44">44</option>
                            <option value="45">45</option>
                            <option value="46">46</option>
                            <option value="47">47</option>
                            <option value="48">48</option>
                            <option value="49">49</option>
                            <option value="50">50</option>
                            <option value="51">51</option>
                            <option value="52">52</option>
                            <option value="53">53</option>
                            <option value="54">54</option>
                            <option value="55">55</option>
                            <option value="56">56</option>
                            <option value="57">57</option>
                            <option value="58">58</option>
                            <option value="59">59</option>
                        </select>
                    <br> Al hacer click en "Hecho", la aplicación se bloqueará y será inaccesible desde este momento.
                </div>
                <div class="modal-footer">
                    <button type="button" onclick="bloqueo()" class="btn btn-primary">Hecho</button>
                </div>
            </div>
        </div>
    </div>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        function setCookie(cname, cvalue, exdays) {
            const d = new Date();
            d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
            let expires = "expires=" + d.toUTCString();
            document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
        }

        function getCookie(cname) {
            let name = cname + "=";
            let decodedCookie = decodeURIComponent(document.cookie);
            let ca = decodedCookie.split(';');
            for (let i = 0; i < ca.length; i++) {
                let c = ca[i];
                while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return "";
        }

        function app(a) {
            document.getElementById("modal-title").innerHTML = a;
            document.getElementById("app-value").value = a.toLowerCase();

            $("#modal").modal("show");
        }

        function bloqueo() {
            setCookie(document.getElementById("app-value").value + "-time", document.getElementById("horas").value + ":" + document.getElementById("minutos").value, 1);
            $("#" + document.getElementById("app-value").value + "-button").addClass("disabled");
            $("#" + document.getElementById("app-value").value + "-setting").addClass("disabled");
            document.getElementById(document.getElementById("app-value").value + "-setting").innerHTML = '<span style="color: rgb(0,0,0);font-size: 12px;"><i class="fa fa-lock"></i>&nbsp;Bloqueado hasta las ' + document.getElementById("horas").value + ':' + document.getElementById("minutos").value + '</span>';
            $("#modal").modal("hide");
        }

        function openInNewTab(url) {
            window.open(url, '_blank').focus();
        }
        var span = document.getElementById('clock');

        function time() {
            var d = new Date();
            var s = d.getSeconds();
            var m = d.getMinutes();
            var h = d.getHours();
            span.textContent =
                ("0" + h).substr(-2) + ":" + ("0" + m).substr(-2).substr(-2);

            if (getCookie("facebook-time") == ("0" + h).substr(-2) + ":" + ("0" + m).substr(-2).substr(-2)) {
                $("#facebook-button").removeClass("disabled");
                $("#facebook-setting").removeClass("disabled");
                document.getElementById("facebook-setting").innerHTML = '<span style="color: rgb(0,0,0);font-size: 12px;"><i class="fa fa-unlock"></i>&nbsp;Desbloqueado</span>';
                localStorage.setItem("facebook-time") = null;
            } else if (localStorage.setItem("facebook-time") != null) {
                $("#facebook-button").addClass("disabled");
                $("#facebook-setting").addClass("disabled");
                document.getElementById("facebook-setting").innerHTML = '<span style="color: rgb(0,0,0);font-size: 12px;"><i class="fa fa-lock"></i>&nbsp;Bloqueado hasta las ' + getCookie("facebook-time") + '</span>';

            }
            if (getCookie("twitter-time") == ("0" + h).substr(-2) + ":" + ("0" + m).substr(-2).substr(-2)) {
                $("#twitter-button").removeClass("disabled");
                $("#twitter-setting").removeClass("disabled");
                document.getElementById("twitter-setting").innerHTML = '<span style="color: rgb(0,0,0);font-size: 12px;"><i class="fa fa-unlock"></i>&nbsp;Desbloqueado</span>';
                localStorage.setItem("twitter-time") = null;


            } else if (localStorage.setItem("twitter-time") != null) {
                $("#twitter-button").addClass("disabled");
                $("#twitter-setting").addClass("disabled");
                document.getElementById("twitter-setting").innerHTML = '<span style="color: rgb(0,0,0);font-size: 12px;"><i class="fa fa-lock"></i>&nbsp;Bloqueado hasta las ' + getCookie("twitter-time") + '</span>';

            }
            if (getCookie("tiktok-time") == ("0" + h).substr(-2) + ":" + ("0" + m).substr(-2).substr(-2)) {
                $("#tiktok-button").removeClass("disabled");
                $("#tiktok-setting").removeClass("disabled");
                document.getElementById("tiktok-setting").innerHTML = '<span style="color: rgb(0,0,0);font-size: 12px;"><i class="fa fa-unlock"></i>&nbsp;Desbloqueado</span>';
                localStorage.setItem("tiktok-time") = null;


            } else if (localStorage.setItem("tiktok-time") != null) {
                $("#tiktok-button").addClass("disabled");
                $("#tiktok-setting").addClass("disabled");
                document.getElementById("tiktok-setting").innerHTML = '<span style="color: rgb(0,0,0);font-size: 12px;"><i class="fa fa-lock"></i>&nbsp;Bloqueado hasta las ' + getCookie("tiktok-time") + '</span>';

            }
            if (getCookie("instagram-time") == ("0" + h).substr(-2) + ":" + ("0" + m).substr(-2).substr(-2)) {
                $("#instagram-button").removeClass("disabled");
                $("#instagram-setting").removeClass("disabled");
                document.getElementById("instagram-setting").innerHTML = '<span style="color: rgb(0,0,0);font-size: 12px;"><i class="fa fa-unlock"></i>&nbsp;Desbloqueado</span>';
                localStorage.setItem("instagram-time") = null;


            } else if (localStorage.setItem("instagram-time") != null) {
                $("#instagram-button").addClass("disabled");
                $("#instagram-setting").addClass("disabled");
                document.getElementById("instagram-setting").innerHTML = '<span style="color: rgb(0,0,0);font-size: 12px;"><i class="fa fa-lock"></i>&nbsp;Bloqueado hasta las ' + getCookie("instagram-time") + '</span>';

            }
        }

        setInterval(time, 1000);
    </script>
</body>

</html>